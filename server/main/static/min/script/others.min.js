(function(){function e(e,t,n){n=(n||0)-1;for(var r=e?e.length:0;++n<r;)if(e[n]===t)return n;return-1}function t(t,n){var r=typeof n;if(t=t.l,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:y+n;return t=(t=t[r])&&t[i],"object"==r?t&&-1<e(t,n)?0:-1:t?0:-1}function n(e){var t=this.l,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:y+e,t=t[n]||(t[n]={});"object"==n?(t[r]||(t[r]=[])).push(e):t[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){var n=e.m,r=t.m;if(n!==r){if(n>r||typeof n=="undefined")return 1;if(n<r||typeof r=="undefined")return-1}return e.n-t.n}function s(e){var t=-1,r=e.length,i=e[0],s=e[0|r/2],o=e[r-1];if(i&&typeof i=="object"&&s&&typeof s=="object"&&o&&typeof o=="object")return!1;for(i=a(),i["false"]=i["null"]=i["true"]=i.undefined=!1,s=a(),s.k=e,s.l=i,s.push=n;++t<r;)s.push(e[t]);return s}function o(e){return"\\"+$[e]}function u(){return v.pop()||[]}function a(){return m.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,"undefined":!1,o:null}}function f(){}function l(e){e.length=0,v.length<w&&v.push(e)}function c(e){var t=e.l;t&&c(t),e.k=e.l=e.m=e.object=e.number=e.string=e.o=null,m.length<w&&m.push(e)}function h(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1;n=n-t||0;for(var i=Array(0>n?0:n);++r<n;)i[r]=e[t+r];return i}function p(n){function v(e){if(!e||xn.call(e)!=q)return!1;var t=e.valueOf,n=typeof t=="function"&&(n=mn(t))&&mn(n);return n?e==n||mn(e)==n:ht(e)}function m(e,t,n){if(!e||!V[typeof e])return e;t=t&&typeof n=="undefined"?t:nt(t,n,3);for(var r=-1,i=V[typeof e]&&zn(e),s=i?i.length:0;++r<s&&(n=i[r],!1!==t(e[n],n,e)););return e}function w(e,t,n){var r;if(!e||!V[typeof e])return e;t=t&&typeof n=="undefined"?t:nt(t,n,3);for(r in e)if(!1===t(e[r],r,e))break;return e}function $(e,t,n){var r,i=e,s=i;if(!i)return s;for(var o=arguments,u=0,a=typeof n=="number"?2:o.length;++u<a;)if((i=o[u])&&V[typeof i])for(var f=-1,l=V[typeof i]&&zn(i),c=l?l.length:0;++f<c;)r=l[f],"undefined"==typeof s[r]&&(s[r]=i[r]);return s}function K(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;if(3<a&&"function"==typeof o[a-2])var f=nt(o[--a-1],o[a--],2);else 2<a&&"function"==typeof o[a-1]&&(f=o[--a]);for(;++u<a;)if((i=o[u])&&V[typeof i])for(var l=-1,c=V[typeof i]&&zn(i),h=c?c.length:0;++l<h;)r=c[l],s[r]=f?f(s[r],i[r]):i[r];return s}function Q(e){var t,n=[];if(!e||!V[typeof e])return n;for(t in e)gn.call(e,t)&&n.push(t);return n}function Y(e){return e&&typeof e=="object"&&!Un(e)&&gn.call(e,"__wrapped__")?e:new et(e)}function et(e,t){this.__chain__=!!t,this.__wrapped__=e}function tt(e,t,n,r,i){if(n){var s=n(e);if(typeof s!="undefined")return s}if(!bt(e))return e;var o=xn.call(e);if(!z[o])return e;var a=In[o];switch(o){case B:case j:return new a(+e);case I:case U:return new a(e);case R:return s=a(e.source,C.exec(e)),s.lastIndex=e.lastIndex,s}if(o=Un(e),t){var f=!r;r||(r=u()),i||(i=u());for(var c=r.length;c--;)if(r[c]==e)return i[c];s=o?a(e.length):{}}else s=o?h(e):K({},e);return o&&(gn.call(e,"index")&&(s.index=e.index),gn.call(e,"input")&&(s.input=e.input)),t?(r.push(e),i.push(s),(o?kt:m)(e,function(e,o){s[o]=tt(e,t,n,r,i)}),f&&(l(r),l(i)),s):s}function nt(e,t,n){if(typeof e!="function")return $t;if(typeof t=="undefined")return e;var r=e.__bindData__||qn.funcNames&&!e.name;if(typeof r=="undefined"){var i=M&&vn.call(e);qn.funcNames||!i||k.test(i)||(r=!0),(qn.funcNames||!r)&&(r=!qn.funcDecomp||M.test(i),Rn(e,r))}if(!0!==r&&r&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return Wt(e,t)}function rt(e,t,n,r){r=(r||0)-1;for(var i=e?e.length:0,s=[];++r<i;){var o=e[r];if(o&&typeof o=="object"&&typeof o.length=="number"&&(Un(o)||dt(o))){t||(o=rt(o,t,n));var u=-1,a=o.length,f=s.length;for(s.length+=a;++u<a;)s[f++]=o[u]}else n||s.push(o)}return s}function it(e,t,n,r,i,s){if(n){var o=n(e,t);if(typeof o!="undefined")return!!o}if(e===t)return 0!==e||1/e==1/t;if(e===e&&!(e&&V[typeof e]||t&&V[typeof t]))return!1;if(null==e||null==t)return e===t;var a=xn.call(e),f=xn.call(t);if(a==P&&(a=q),f==P&&(f=q),a!=f)return!1;switch(a){case B:case j:return+e==+t;case I:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case R:case U:return e==on(t)}if(f=a==H,!f){if(gn.call(e,"__wrapped__")||gn.call(t,"__wrapped__"))return it(e.__wrapped__||e,t.__wrapped__||t,n,r,i,s);if(a!=q)return!1;var a=e.constructor,c=t.constructor;if(a!=c&&!(yt(a)&&a instanceof a&&yt(c)&&c instanceof c))return!1}for(c=!i,i||(i=u()),s||(s=u()),a=i.length;a--;)if(i[a]==e)return s[a]==t;var h=0,o=!0;if(i.push(e),s.push(t),f){if(a=e.length,h=t.length,o=h==e.length,!o&&!r)return o;for(;h--;)if(f=a,c=t[h],r)for(;f--&&!(o=it(e[f],c,n,r,i,s)););else if(!(o=it(e[h],c,n,r,i,s)))break;return o}return w(t,function(t,u,a){return gn.call(a,u)?(h++,o=gn.call(e,u)&&it(e[u],t,n,r,i,s)):void 0}),o&&!r&&w(e,function(e,t,n){return gn.call(n,t)?o=-1<--h:void 0}),c&&(l(i),l(s)),o}function st(e,t,n,r,i){(Un(t)?kt:m)(t,function(t,s){var o,u,a=t,f=e[s];if(t&&((u=Un(t))||v(t))){for(a=r.length;a--;)if(o=r[a]==t){f=i[a];break}if(!o){var l;n&&(a=n(f,t),l=typeof a!="undefined")&&(f=a),l||(f=u?Un(f)?f:[]:v(f)?f:{}),r.push(t),i.push(f),l||st(f,t,n,r,i)}}else n&&(a=n(f,t),typeof a=="undefined"&&(a=t)),typeof a!="undefined"&&(f=a);e[s]=f})}function ot(n,r,i){var o=-1,a=ct(),f=n?n.length:0,h=[],p=!r&&f>=b&&a===e,d=i||p?u():h;if(p){var v=s(d);v?(a=t,d=v):(p=!1,d=i?d:(l(d),h))}for(;++o<f;){var v=n[o],m=i?i(v,o,n):v;(r?!o||d[d.length-1]!==m:0>a(d,m))&&((i||p)&&d.push(m),h.push(v))}return p?(l(d.k),c(d)):i&&l(d),h}function ut(e){return function(t,n,r){var i={};n=Y.createCallback(n,r,3),r=-1;var s=t?t.length:0;if(typeof s=="number")for(;++r<s;){var o=t[r];e(i,o,n(o,r,t),t)}else m(t,function(t,r,s){e(i,t,n(t,r,s),s)});return i}}function at(e,t,n,r,i,s){var o=1&t,u=2&t,a=4&t,f=8&t,l=16&t,c=32&t,h=e;if(!u&&!yt(e))throw new un;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var p=e&&e.__bindData__;if(p)return!o||1&p[1]||(p[4]=i),!o&&1&p[1]&&(t|=8),!a||4&p[1]||(p[5]=s),l&&bn.apply(p[2]||(p[2]=[]),n),c&&bn.apply(p[3]||(p[3]=[]),r),p[1]|=t,at.apply(null,p);if(!o||u||a||c||!(qn.fastBind||Cn&&l))v=function(){var p=arguments,d=o?i:this;return(a||l||c)&&(p=Bn.call(p),l&&Tn.apply(p,n),c&&bn.apply(p,r),a&&p.length<s)?(t|=16,at(e,f?t:-4&t,p,null,i,s)):(u&&(e=d[h]),this instanceof v?(d=ft(e.prototype),p=e.apply(d,p),bt(p)?p:d):e.apply(d,p))};else{if(l){var d=[i];bn.apply(d,n)}var v=l?Cn.apply(e,d):Cn.call(e,i)}return Rn(v,Bn.call(arguments)),v}function ft(e){return bt(e)?kn(e):{}}function lt(e){return Wn[e]}function ct(){var t=(t=Y.indexOf)===Ft?e:t;return t}function ht(e){var t,n;return e&&xn.call(e)==q&&(t=e.constructor,!yt(t)||t instanceof t)?(w(e,function(e,t){n=t}),typeof n=="undefined"||gn.call(e,n)):!1}function pt(e){return Xn[e]}function dt(e){return e&&typeof e=="object"&&typeof e.length=="number"&&xn.call(e)==P||!1}function vt(e,t,n){var r=zn(e),i=r.length;for(t=nt(t,n,3);i--&&(n=r[i],!1!==t(e[n],n,e)););return e}function mt(e){var t=[];return w(e,function(e,n){yt(e)&&t.push(n)}),t.sort()}function gt(e){for(var t=-1,n=zn(e),r=n.length,i={};++t<r;){var s=n[t];i[e[s]]=s}return i}function yt(e){return typeof e=="function"}function bt(e){return!!e&&!!V[typeof e]}function wt(e){return typeof e=="number"||xn.call(e)==I}function Et(e){return typeof e=="string"||xn.call(e)==U}function St(e){for(var t=-1,n=zn(e),r=n.length,i=Gt(r);++t<r;)i[t]=e[n[t]];return i}function xt(e,t,n){var r=-1,i=ct(),s=e?e.length:0,o=!1;return n=(0>n?_n(0,s+n):n)||0,Un(e)?o=-1<i(e,t,n):typeof s=="number"?o=-1<(Et(e)?e.indexOf(t,n):i(e,t,n)):m(e,function(e){return++r<n?void 0:!(o=e===t)}),o}function Tt(e,t,n){var r=!0;t=Y.createCallback(t,n,3),n=-1;var i=e?e.length:0;if(typeof i=="number")for(;++n<i&&(r=!!t(e[n],n,e)););else m(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Nt(e,t,n){var r=[];t=Y.createCallback(t,n,3),n=-1;var i=e?e.length:0;if(typeof i=="number")for(;++n<i;){var s=e[n];t(s,n,e)&&r.push(s)}else m(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ct(e,t,n){t=Y.createCallback(t,n,3),n=-1;var r=e?e.length:0;if(typeof r!="number"){var i;return m(e,function(e,n,r){return t(e,n,r)?(i=e,!1):void 0}),i}for(;++n<r;){var s=e[n];if(t(s,n,e))return s}}function kt(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&typeof n=="undefined"?t:nt(t,n,3),typeof i=="number")for(;++r<i&&!1!==t(e[r],r,e););else m(e,t);return e}function Lt(e,t,n){var r=e?e.length:0;if(t=t&&typeof n=="undefined"?t:nt(t,n,3),typeof r=="number")for(;r--&&!1!==t(e[r],r,e););else{var i=zn(e),r=i.length;m(e,function(e,n,s){return n=i?i[--r]:--r,t(s[n],n,s)})}return e}function At(e,t,n){var r=-1,i=e?e.length:0;if(t=Y.createCallback(t,n,3),typeof i=="number")for(var s=Gt(i);++r<i;)s[r]=t(e[r],r,e);else s=[],m(e,function(e,n,i){s[++r]=t(e,n,i)});return s}function Ot(e,t,n){var i=-1/0,s=i;if(!t&&Un(e)){n=-1;for(var o=e.length;++n<o;){var u=e[n];u>s&&(s=u)}}else t=!t&&Et(e)?r:Y.createCallback(t,n,3),kt(e,function(e,n,r){n=t(e,n,r),n>i&&(i=n,s=e)});return s}function Mt(e,t){var n=-1,r=e?e.length:0;if(typeof r=="number")for(var i=Gt(r);++n<r;)i[n]=e[n][t];return i||At(e,t)}function _t(e,t,n,r){if(!e)return n;var i=3>arguments.length;t=nt(t,r,4);var s=-1,o=e.length;if(typeof o=="number")for(i&&(n=e[++s]);++s<o;)n=t(n,e[s],s,e);else m(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function Dt(e,t,n,r){var i=3>arguments.length;return t=nt(t,r,4),Lt(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function Pt(e){var t=-1,n=e?e.length:0,r=Gt(typeof n=="number"?n:0);return kt(e,function(e){var n=Kt(++t);r[t]=r[n],r[n]=e}),r}function Ht(e,t,n){var r;t=Y.createCallback(t,n,3),n=-1;var i=e?e.length:0;if(typeof i=="number")for(;++n<i&&!(r=t(e[n],n,e)););else m(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Bt(n){var r=-1,i=ct(),o=n?n.length:0,u=rt(arguments,!0,!0,1),a=[],f=o>=b&&i===e;if(f){var l=s(u);l?(i=t,u=l):f=!1}for(;++r<o;)l=n[r],0>i(u,l)&&a.push(l);return f&&c(u),a}function jt(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&null!=t){var s=-1;for(t=Y.createCallback(t,n,3);++s<i&&t(e[s],s,e);)r++}else if(r=t,null==r||n)return e?e[0]:d;return h(e,0,Dn(_n(0,r),i))}function Ft(t,n,r){if(typeof r=="number"){var i=t?t.length:0;r=0>r?_n(0,i+r):r||0}else if(r)return r=qt(t,n),t[r]===n?r:-1;return e(t,n,r)}function It(e,t,n){if(typeof t!="number"&&null!=t){var r=0,i=-1,s=e?e.length:0;for(t=Y.createCallback(t,n,3);++i<s&&t(e[i],i,e);)r++}else r=null==t||n?1:_n(0,t);return h(e,r)}function qt(e,t,n,r){var i=0,s=e?e.length:i;for(n=n?Y.createCallback(n,r,1):$t,t=n(t);i<s;)r=i+s>>>1,n(e[r])<t?i=r+1:s=r;return i}function Rt(e,t,n,r){return typeof t!="boolean"&&null!=t&&(n=(r=n)&&r[t]===e?null:t,t=!1),null!=n&&(n=Y.createCallback(n,r,3)),ot(e,t,n)}function Ut(){for(var e=1<arguments.length?arguments:arguments[0],t=-1,n=e?Ot(Mt(e,"length")):0,r=Gt(0>n?0:n);++t<n;)r[t]=Mt(e,t);return r}function zt(e,t){for(var n=-1,r=e?e.length:0,i={};++n<r;){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i}function Wt(e,t){return 2<arguments.length?at(e,17,Bn.call(arguments,2),null,t):at(e,1,null,null,t)}function Xt(e,t,n){function r(){l&&pn(l),o=l=c=d,(v||p!==t)&&(h=yn(),u=e.apply(f,s))}function i(){var n=t-(yn()-a);0<n?l=En(i,n):(o&&pn(o),n=c,o=l=c=d,n&&(h=yn(),u=e.apply(f,s)))}var s,o,u,a,f,l,c,h=0,p=!1,v=!0;if(!yt(e))throw new un;if(t=_n(0,t)||0,!0===n)var m=!0,v=!1;else bt(n)&&(m=n.leading,p="maxWait"in n&&(_n(t,n.maxWait)||0),v="trailing"in n?n.trailing:v);return function(){if(s=arguments,a=yn(),f=this,c=v&&(l||!m),!1===p)var n=m&&!l;else{o||m||(h=a);var d=p-(a-h);0<d?o||(o=En(r,d)):(o&&(o=pn(o)),h=a,u=e.apply(f,s))}return l||t===p||(l=En(i,t)),n&&(u=e.apply(f,s)),u}}function Vt(e){if(!yt(e))throw new un;var t=Bn.call(arguments,1);return En(function(){e.apply(d,t)},1)}function $t(e){return e}function Jt(e,t){var n=e,r=!t||yt(n);t||(n=et,t=e,e=Y),kt(mt(t),function(i){var s=e[i]=t[i];r&&(n.prototype[i]=function(){var t=this.__wrapped__,r=[t];return bn.apply(r,arguments),r=s.apply(e,r),t&&typeof t=="object"&&t===r?this:(r=new n(r),r.__chain__=this.__chain__,r)})})}function Kt(e,t,n){var r=null==e,i=null==t;return null==n&&(typeof e=="boolean"&&i?(n=e,e=1):i||typeof t!="boolean"||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,r=Hn(),n||e%1||t%1?Dn(e+r*(t-e+parseFloat("1e-"+((r+"").length-1))),t):e+dn(r*(t-e+1))}function Qt(){return this.__wrapped__}n=n?Z.defaults(J.Object(),n,Z.pick(J,D)):J;var Gt=n.Array,Yt=n.Boolean,Zt=n.Date,en=n.Function,tn=n.Math,nn=n.Number,rn=n.Object,sn=n.RegExp,on=n.String,un=n.TypeError,an=[],fn=rn.prototype,ln=n._,cn=sn("^"+on(fn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),hn=tn.ceil,pn=n.clearTimeout,dn=tn.floor,vn=en.prototype.toString,mn=cn.test(mn=rn.getPrototypeOf)&&mn,gn=fn.hasOwnProperty,yn=cn.test(yn=Zt.now)&&yn||function(){return+(new Zt)},bn=an.push,wn=n.setImmediate,En=n.setTimeout,Sn=an.splice,xn=fn.toString,Tn=an.unshift,Nn=function(){try{var e={},t=cn.test(t=rn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Cn=cn.test(Cn=xn.bind)&&Cn,kn=cn.test(kn=rn.create)&&kn,Ln=cn.test(Ln=Gt.isArray)&&Ln,An=n.isFinite,On=n.isNaN,Mn=cn.test(Mn=rn.keys)&&Mn,_n=tn.max,Dn=tn.min,Pn=n.parseInt,Hn=tn.random,Bn=an.slice,jn=cn.test(n.attachEvent),Fn=Cn&&!/\n|true/.test(Cn+jn),In={};In[H]=Gt,In[B]=Yt,In[j]=Zt,In[F]=en,In[q]=rn,In[I]=nn,In[R]=sn,In[U]=on,et.prototype=Y.prototype;var qn=Y.support={};qn.fastBind=Cn&&!Fn,qn.funcDecomp=!cn.test(n.a)&&M.test(p),qn.funcNames=typeof en.name=="string",Y.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:L,variable:"",imports:{_:Y}},kn||(ft=function(e){if(bt(e)){f.prototype=e;var t=new f;f.prototype=null}return t||{}});var Rn=Nn?function(e,t){X.value=t,Nn(e,"__bindData__",X)}:f,Un=Ln||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&xn.call(e)==H||!1},zn=Mn?function(e){return bt(e)?Mn(e):[]}:Q,Wn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xn=gt(Wn),Vn=sn("("+zn(Xn).join("|")+")","g"),$n=sn("["+zn(Wn).join("")+"]","g"),Jn=ut(function(e,t,n){gn.call(e,n)?e[n]++:e[n]=1}),Kn=ut(function(e,t,n){(gn.call(e,n)?e[n]:e[n]=[]).push(t)}),Qn=ut(function(e,t,n){e[n]=t});Fn&&G&&typeof wn=="function"&&(Vt=function(e){if(!yt(e))throw new un;return wn.apply(n,arguments)});var Gn=8==Pn(E+"08")?Pn:function(e,t){return Pn(Et(e)?e.replace(A,""):e,t||0)};return Y.after=function(e,t){if(!yt(t))throw new un;return function(){return 1>--e?t.apply(this,arguments):void 0}},Y.assign=K,Y.at=function(e){for(var t=arguments,n=-1,r=rt(t,!0,!1,1),t=t[2]&&t[2][t[1]]===e?1:r.length,i=Gt(t);++n<t;)i[n]=e[r[n]];return i},Y.bind=Wt,Y.bindAll=function(e){for(var t=1<arguments.length?rt(arguments,!0,!1,1):mt(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=at(e[i],1,null,null,e)}return e},Y.bindKey=function(e,t){return 2<arguments.length?at(t,19,Bn.call(arguments,2),null,e):at(t,3,null,null,e)},Y.chain=function(e){return e=new et(e),e.__chain__=!0,e},Y.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r},Y.compose=function(){for(var e=arguments,t=e.length;t--;)if(!yt(e[t]))throw new un;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}},Y.countBy=Jn,Y.createCallback=function(e,t,n){var r=typeof e;if(null==e||"function"==r)return nt(e,t,n);if("object"!=r)return function(t){return t[e]};var i=zn(e),s=i[0],o=e[s];return 1!=i.length||o!==o||bt(o)?function(t){for(var n=i.length,r=!1;n--&&(r=it(t[i[n]],e[i[n]],null,!0)););return r}:function(e){return e=e[s],o===e&&(0!==o||1/o==1/e)}},Y.curry=function(e,t){return t=typeof t=="number"?t:+t||e.length,at(e,4,null,null,null,t)},Y.debounce=Xt,Y.defaults=$,Y.defer=Vt,Y.delay=function(e,t){if(!yt(e))throw new un;var n=Bn.call(arguments,2);return En(function(){e.apply(d,n)},t)},Y.difference=Bt,Y.filter=Nt,Y.flatten=function(e,t,n,r){return typeof t!="boolean"&&null!=t&&(n=(r=n)&&r[t]===e?null:t,t=!1),null!=n&&(e=At(e,n,r)),rt(e,t)},Y.forEach=kt,Y.forEachRight=Lt,Y.forIn=w,Y.forInRight=function(e,t,n){var r=[];w(e,function(e,t){r.push(t,e)});var i=r.length;for(t=nt(t,n,3);i--&&!1!==t(r[i--],r[i],e););return e},Y.forOwn=m,Y.forOwnRight=vt,Y.functions=mt,Y.groupBy=Kn,Y.indexBy=Qn,Y.initial=function(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&null!=t){var s=i;for(t=Y.createCallback(t,n,3);s--&&t(e[s],s,e);)r++}else r=null==t||n?1:t||r;return h(e,0,Dn(_n(0,i-r),i))},Y.intersection=function(n){for(var r=arguments,i=r.length,o=-1,a=u(),f=-1,h=ct(),p=n?n.length:0,d=[],v=u();++o<i;){var m=r[o];a[o]=h===e&&(m?m.length:0)>=b&&s(o?r[o]:v)}e:for(;++f<p;){var g=a[0],m=n[f];if(0>(g?t(g,m):h(v,m))){for(o=i,(g||v).push(m);--o;)if(g=a[o],0>(g?t(g,m):h(r[o],m)))continue e;d.push(m)}}for(;i--;)(g=a[i])&&c(g);return l(a),l(v),d},Y.invert=gt,Y.invoke=function(e,t){var n=Bn.call(arguments,2),r=-1,i=typeof t=="function",s=e?e.length:0,o=Gt(typeof s=="number"?s:0);return kt(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o},Y.keys=zn,Y.map=At,Y.max=Ot,Y.memoize=function(e,t){function n(){var r=n.cache,i=t?t.apply(this,arguments):y+arguments[0];return gn.call(r,i)?r[i]:r[i]=e.apply(this,arguments)}if(!yt(e))throw new un;return n.cache={},n},Y.merge=function(e){var t=arguments,n=2;if(!bt(e))return e;if("number"!=typeof t[2]&&(n=t.length),3<n&&"function"==typeof t[n-2])var r=nt(t[--n-1],t[n--],2);else 2<n&&"function"==typeof t[n-1]&&(r=t[--n]);for(var t=Bn.call(arguments,1,n),i=-1,s=u(),o=u();++i<n;)st(e,t[i],r,s,o);return l(s),l(o),e},Y.min=function(e,t,n){var i=1/0,s=i;if(!t&&Un(e)){n=-1;for(var o=e.length;++n<o;){var u=e[n];u<s&&(s=u)}}else t=!t&&Et(e)?r:Y.createCallback(t,n,3),kt(e,function(e,n,r){n=t(e,n,r),n<i&&(i=n,s=e)});return s},Y.omit=function(e,t,n){var r=ct(),i=typeof t=="function",s={};if(i)t=Y.createCallback(t,n,3);else var o=rt(arguments,!0,!1,1);return w(e,function(e,n,u){(i?!t(e,n,u):0>r(o,n))&&(s[n]=e)}),s},Y.once=function(e){var t,n;if(!yt(e))throw new un;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},Y.pairs=function(e){for(var t=-1,n=zn(e),r=n.length,i=Gt(r);++t<r;){var s=n[t];i[t]=[s,e[s]]}return i},Y.partial=function(e){return at(e,16,Bn.call(arguments,1))},Y.partialRight=function(e){return at(e,32,null,Bn.call(arguments,1))},Y.pick=function(e,t,n){var r={};if(typeof t!="function")for(var i=-1,s=rt(arguments,!0,!1,1),o=bt(e)?s.length:0;++i<o;){var u=s[i];u in e&&(r[u]=e[u])}else t=Y.createCallback(t,n,3),w(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r},Y.pluck=Mt,Y.pull=function(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var s=-1,o=t[n];++s<i;)e[s]===o&&(Sn.call(e,s--,1),i--);return e},Y.range=function(e,t,n){e=+e||0,n=typeof n=="number"?n:+n||1,null==t&&(t=e,e=0);var r=-1;t=_n(0,hn((t-e)/(n||1)));for(var i=Gt(t);++r<t;)i[r]=e,e+=n;return i},Y.reject=function(e,t,n){return t=Y.createCallback(t,n,3),Nt(e,function(e,n,r){return!t(e,n,r)})},Y.remove=function(e,t,n){var r=-1,i=e?e.length:0,s=[];for(t=Y.createCallback(t,n,3);++r<i;)n=e[r],t(n,r,e)&&(s.push(n),Sn.call(e,r--,1),i--);return s},Y.rest=It,Y.shuffle=Pt,Y.sortBy=function(e,t,n){var r=-1,s=e?e.length:0,o=Gt(typeof s=="number"?s:0);for(t=Y.createCallback(t,n,3),kt(e,function(e,n,i){var s=o[++r]=a();s.m=t(e,n,i),s.n=r,s.o=e}),s=o.length,o.sort(i);s--;)e=o[s],o[s]=e.o,c(e);return o},Y.tap=function(e,t){return t(e),e},Y.throttle=function(e,t,n){var r=!0,i=!0;if(!yt(e))throw new un;return!1===n?r=!1:bt(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),W.leading=r,W.maxWait=t,W.trailing=i,Xt(e,t,W)},Y.times=function(e,t,n){e=-1<(e=+e)?e:0;var r=-1,i=Gt(e);for(t=nt(t,n,1);++r<e;)i[r]=t(r);return i},Y.toArray=function(e){return e&&typeof e.length=="number"?h(e):St(e)},Y.transform=function(e,t,n,r){var i=Un(e);return t=nt(t,r,4),null==n&&(i?n=[]:(r=e&&e.constructor,n=ft(r&&r.prototype))),(i?kt:m)(e,function(e,r,i){return t(n,e,r,i)}),n},Y.union=function(){return ot(rt(arguments,!0,!0))},Y.uniq=Rt,Y.values=St,Y.where=Nt,Y.without=function(e){return Bt(e,Bn.call(arguments,1))},Y.wrap=function(e,t){if(!yt(t))throw new un;return function(){var n=[e];return bn.apply(n,arguments),t.apply(this,n)}},Y.zip=Ut,Y.zipObject=zt,Y.collect=At,Y.drop=It,Y.each=kt,Y.b=Lt,Y.extend=K,Y.methods=mt,Y.object=zt,Y.select=Nt,Y.tail=It,Y.unique=Rt,Y.unzip=Ut,Jt(Y),Y.clone=function(e,t,n,r){return typeof t!="boolean"&&null!=t&&(r=n,n=t,t=!1),tt(e,t,typeof n=="function"&&nt(n,r,1))},Y.cloneDeep=function(e,t,n){return tt(e,!0,typeof t=="function"&&nt(t,n,1))},Y.contains=xt,Y.escape=function(e){return null==e?"":on(e).replace($n,lt)},Y.every=Tt,Y.find=Ct,Y.findIndex=function(e,t,n){var r=-1,i=e?e.length:0;for(t=Y.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1},Y.findKey=function(e,t,n){var r;return t=Y.createCallback(t,n,3),m(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r},Y.findLast=function(e,t,n){var r;return t=Y.createCallback(t,n,3),Lt(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r},Y.findLastIndex=function(e,t,n){var r=e?e.length:0;for(t=Y.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1},Y.findLastKey=function(e,t,n){var r;return t=Y.createCallback(t,n,3),vt(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r},Y.has=function(e,t){return e?gn.call(e,t):!1},Y.identity=$t,Y.indexOf=Ft,Y.isArguments=dt,Y.isArray=Un,Y.isBoolean=function(e){return!0===e||!1===e||xn.call(e)==B},Y.isDate=function(e){return e?typeof e=="object"&&xn.call(e)==j:!1},Y.isElement=function(e){return e?1===e.nodeType:!1},Y.isEmpty=function(e){var t=!0;if(!e)return t;var n=xn.call(e),r=e.length;return n==H||n==U||n==P||n==q&&typeof r=="number"&&yt(e.splice)?!r:(m(e,function(){return t=!1}),t)},Y.isEqual=function(e,t,n,r){return it(e,t,typeof n=="function"&&nt(n,r,2))},Y.isFinite=function(e){return An(e)&&!On(parseFloat(e))},Y.isFunction=yt,Y.isNaN=function(e){return wt(e)&&e!=+e},Y.isNull=function(e){return null===e},Y.isNumber=wt,Y.isObject=bt,Y.isPlainObject=v,Y.isRegExp=function(e){return e?typeof e=="object"&&xn.call(e)==R:!1},Y.isString=Et,Y.isUndefined=function(e){return typeof e=="undefined"},Y.lastIndexOf=function(e,t,n){var r=e?e.length:0;for(typeof n=="number"&&(r=(0>n?_n(0,r+n):Dn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},Y.mixin=Jt,Y.noConflict=function(){return n._=ln,this},Y.parseInt=Gn,Y.random=Kt,Y.reduce=_t,Y.reduceRight=Dt,Y.result=function(e,t){if(e){var n=e[t];return yt(n)?e[t]():n}},Y.runInContext=p,Y.size=function(e){var t=e?e.length:0;return typeof t=="number"?t:zn(e).length},Y.some=Ht,Y.sortedIndex=qt,Y.template=function(e,t,n){var r=Y.templateSettings;e||(e=""),n=$({},n,r);var i,s=$({},n.imports,r.imports),r=zn(s),s=St(s),u=0,a=n.interpolate||O,f="__p+='",a=sn((n.escape||O).source+"|"+a.source+"|"+(a===L?N:O).source+"|"+(n.evaluate||O).source+"|$","g");e.replace(a,function(t,n,r,s,a,l){return r||(r=s),f+=e.slice(u,l).replace(_,o),n&&(f+="'+__e("+n+")+'"),a&&(i=!0,f+="';"+a+";__p+='"),r&&(f+="'+((__t=("+r+"))==null?'':__t)+'"),u=l+t.length,t}),f+="';\n",a=n=n.variable,a||(n="obj",f="with("+n+"){"+f+"}"),f=(i?f.replace(S,""):f).replace(x,"$1").replace(T,"$1;"),f="function("+n+"){"+(a?"":n+"||("+n+"={});")+"var __t,__p='',__e=_.escape"+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+f+"return __p}";try{var l=en(r,"return "+f).apply(d,s)}catch(c){throw c.source=f,c}return t?l(t):(l.source=f,l)},Y.unescape=function(e){return null==e?"":on(e).replace(Vn,pt)},Y.uniqueId=function(e){var t=++g;return on(null==e?"":e)+t},Y.all=Tt,Y.any=Ht,Y.detect=Ct,Y.findWhere=Ct,Y.foldl=_t,Y.foldr=Dt,Y.include=xt,Y.inject=_t,m(Y,function(e,t){Y.prototype[t]||(Y.prototype[t]=function(){var t=[this.__wrapped__],n=this.__chain__;return bn.apply(t,arguments),t=e.apply(Y,t),n?new et(t,n):t})}),Y.first=jt,Y.last=function(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&null!=t){var s=i;for(t=Y.createCallback(t,n,3);s--&&t(e[s],s,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:d;return h(e,_n(0,i-r))},Y.sample=function(e,t,n){var r=e?e.length:0;return typeof r!="number"&&(e=St(e)),null==t||n?e?e[Kt(r-1)]:d:(e=Pt(e),e.length=Dn(_n(0,t),e.length),e)},Y.take=jt,Y.head=jt,m(Y,function(e,t){var n="sample"!==t;Y.prototype[t]||(Y.prototype[t]=function(t,r){var i=this.__chain__,s=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&typeof t=="function")?new et(s,i):s})}),Y.VERSION="2.2.1",Y.prototype.chain=function(){return this.__chain__=!0,this},Y.prototype.toString=function(){return on(this.__wrapped__)},Y.prototype.value=Qt,Y.prototype.valueOf=Qt,kt(["join","pop","shift"],function(e){var t=an[e];Y.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new et(n,e):n}}),kt(["push","reverse","sort","unshift"],function(e){var t=an[e];Y.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),kt(["concat","slice","splice"],function(e){var t=an[e];Y.prototype[e]=function(){return new et(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Y}var d,v=[],m=[],g=0,y=+(new Date)+"",b=75,w=40,E=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",S=/\b__p\+='';/g,x=/\b(__p\+=)''\+/g,T=/(__e\(.*?\)|\b__t\))\+'';/g,N=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,k=/^function[ \n\r\t]+\w/,L=/<%=([\s\S]+?)%>/g,A=RegExp("^["+E+"]*0+(?=.$)"),O=/($^)/,M=/\bthis\b/,_=/['\n\r\t\u2028\u2029\\]/g,D="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),P="[object Arguments]",H="[object Array]",B="[object Boolean]",j="[object Date]",F="[object Function]",I="[object Number]",q="[object Object]",R="[object RegExp]",U="[object String]",z={};z[F]=!1,z[P]=z[H]=z[B]=z[j]=z[I]=z[q]=z[R]=z[U]=!0;var W={leading:!1,maxWait:0,trailing:!1},X={configurable:!1,enumerable:!1,value:null,writable:!1},V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},$={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},J=V[typeof window]&&window||this,K=V[typeof exports]&&exports&&!exports.nodeType&&exports,Q=V[typeof module]&&module&&!module.nodeType&&module,G=Q&&Q.exports===K&&K,Y=V[typeof global]&&global;!Y||Y.global!==Y&&Y.window!==Y||(J=Y);var Z=p();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(J._=Z,define(function(){return Z})):K&&Q?G?(Q.exports=Z)._=Z:K._=Z:J._=Z}).call(this),function(e){function t(){var e=location.href;return hashtag=e.indexOf("#prettyPhoto")!==-1?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):!1,hashtag}function n(){if(typeof theRel=="undefined")return;location.hash=theRel+"/"+rel_index+"/"}function r(){location.href.indexOf("#prettyPhoto")!==-1&&(location.hash="prettyPhoto")}function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),i=r.exec(t);return i==null?"":i[1]}e.prettyPhoto={version:"3.1.5"},e.fn.prettyPhoto=function(s){function o(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(N/2-b.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:b.contentHeight,width:b.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:C/2-b.containerWidth/2<0?0:C/2-b.containerWidth/2,width:b.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(b.height).width(b.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&c(pp_images[set_position])=="image"?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(b.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),settings.autoplay_slideshow&&!k&&!w&&e.prettyPhoto.startSlideshow(),settings.changepicturecallback(),w=!0}),v(),s.ajaxcallback()}function u(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show(),t()})}function a(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function f(e,t){resized=!1,l(e,t),imageWidth=e,imageHeight=t;if((T>C||x>N)&&doresize&&settings.allow_resize&&!y){resized=!0,fitting=!1;while(!fitting)T>C?(imageWidth=C-200,imageHeight=t/e*imageWidth):x>N?(imageHeight=N-200,imageWidth=e/t*imageHeight):fitting=!0,x=imageHeight,T=imageWidth;(T>C||x>N)&&f(T,x),l(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(x),containerWidth:Math.floor(T)+settings.horizontal_padding*2,contentHeight:Math.floor(E),contentWidth:Math.floor(S),resized:resized}}function l(t,n){t=parseFloat(t),n=parseFloat(n),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),E=n+detailsHeight,S=t,x=E+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),T=t}function c(e){return e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":e.substr(0,1)=="#"?"inline":"image"}function h(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=p(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=N/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0);if(contentHeight>N)return;$pp_pic_holder.css({top:projectedTop,left:C/2+scroll_pos.scrollLeft-contentwidth/2})}}function p(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};if(document.body)return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}function d(){N=e(window).height(),C=e(window).width(),typeof $pp_overlay!="undefined"&&$pp_overlay.height(e(document).height()).width(C)}function v(){isSet&&settings.overlay_gallery&&c(pp_images[set_position])=="image"?(itemWidth=57,navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30,itemsPerPage=Math.floor((b.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,totalPage==0?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,e.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function m(t){settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var n=0;n<pp_images.length;n++)pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[n]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=
$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){e(this).find("a").click(function(){return e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()}),e("a.pp_close").bind("click",function(){return e.prettyPhoto.close(),!1}),settings.allow_expand&&e("a.pp_expand").bind("click",function(t){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),u(function(){e.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1}),h()}s=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> 						<div class="ppt"> </div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},s);var g=this,y=!1,b,w,E,S,x,T,N=e(window).height(),C=e(window).width(),k;return doresize=!0,scroll_pos=p(),e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){h(),d()}),s.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:e.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close(),t.preventDefault()}}),e.prettyPhoto.initialize=function(){return settings=s,settings.theme=="pp_default"&&(settings.horizontal_padding=16),theRel=e(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(g,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("href")}):e.makeArray(e(this).attr("href")),pp_titles=isSet?jQuery.map(g,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(g,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("title")?e(t).attr("title"):""}):e.makeArray(e(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this)),m(this),settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){h()}),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(t){return typeof settings=="undefined"&&(settings=s,pp_images=e.makeArray(arguments[0]),pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray(""),pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,m(t.target)),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),a(e(pp_images).size()),e(".pp_loaderIcon").show(),settings.deeplinking&&n(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size()),typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(i("width",pp_images[set_position]))?i("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(i("height",pp_images[set_position]))?i("height",pp_images[set_position]):settings.default_height.toString(),y=!1,movie_height.indexOf("%")!=-1&&(movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150),y=!0),movie_width.indexOf("%")!=-1&&(movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150),y=!0),$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html(" "),imgPreloader="",skipInjection=!1;switch(c(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<e(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){b=f(imgPreloader.width,imgPreloader.height),o()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":b=f(movie_width,movie_height),movie_id=i("v",pp_images[set_position]),movie_id==""&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,i("rel",pp_images[set_position])?movie+="?rel="+i("rel",pp_images[set_position]):movie+="?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":b=f(movie_width,movie_height),movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,n=movie_id.match(t);movie="http://player.vimeo.com/video/"+n[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=b.width+"/embed/?moog_width="+b.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,b.height).replace(/{path}/g,movie);break;case"quicktime":b=f(movie_width,movie_height),b.height+=15,b.contentHeight+=15,b.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":b=f(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":b=f(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,b=f(movie_width,movie_height),doresize=!0,skipInjection=!0,e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,o()});break;case"custom":b=f(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,b=f(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}!imgPreloader&&!skipInjection&&($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,o())}),!1},e.prettyPhoto.changePage=function(t){currentGalleryPage=0,t=="previous"?(set_position--,set_position<0&&(set_position=e(pp_images).size()-1)):t=="next"?(set_position++,set_position>e(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),u(function(){e.prettyPhoto.open()})},e.prettyPhoto.changeGalleryPage=function(e){e=="next"?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):e=="previous"?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed=e=="next"||e=="previous"?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},e.prettyPhoto.startSlideshow=function(){typeof k=="undefined"?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return e.prettyPhoto.stopSlideshow(),!1}),k=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1}),clearInterval(k),k=undefined},e.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;e.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).unbind("scroll.prettyphoto"),r(),settings.callback(),doresize=!0,w=!1,delete settings})},!pp_alreadyInitialized&&t()&&(pp_alreadyInitialized=!0,hashIndex=t(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){e("a["+s.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;!function(e){"use strict";e.fn.bootstrapSwitch=function(t){var n='input[type!="hidden"]',r={init:function(){return this.each(function(){var t=e(this),r,i,s,o,u=t.closest("form"),a="",f=t.attr("class"),l,c,h="ON",p="OFF",d=!1,v=!1;e.each(["switch-mini","switch-small","switch-large"],function(e,t){f.indexOf(t)>=0&&(a=t)}),t.addClass("has-switch"),t.data("on")!==undefined&&(l="switch-"+t.data("on")),t.data("on-label")!==undefined&&(h=t.data("on-label")),t.data("off-label")!==undefined&&(p=t.data("off-label")),t.data("label-icon")!==undefined&&(d=t.data("label-icon")),t.data("text-label")!==undefined&&(v=t.data("text-label")),i=e("<span>").addClass("switch-left").addClass(a).addClass(l).html(h),l="",t.data("off")!==undefined&&(l="switch-"+t.data("off")),s=e("<span>").addClass("switch-right").addClass(a).addClass(l).html(p),o=e("<label>").html("&nbsp;").addClass(a).attr("for",t.find(n).attr("id")),d&&o.html('<i class="icon '+d+'"></i>'),v&&o.html(""+v+""),r=t.find(n).wrap(e("<div>")).parent().data("animated",!1),t.data("animated")!==!1&&r.addClass("switch-animate").data("animated",!0),r.append(i).append(o).append(s),t.find(">div").addClass(t.find(n).is(":checked")?"switch-on":"switch-off"),t.find(n).is(":disabled")&&e(this).addClass("deactivate");var m=function(e){t.parent("label").is(".label-change-switch")||e.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};t.on("keydown",function(t){t.keyCode===32&&(t.stopImmediatePropagation(),t.preventDefault(),m(e(t.target).find("span:first")))}),i.on("click",function(t){m(e(this))}),s.on("click",function(t){m(e(this))}),t.find(n).on("change",function(t,n){var r=e(this),i=r.parent(),s=r.is(":checked"),o=i.is(".switch-off");t.preventDefault(),i.css("left","");if(o===s){s?i.removeClass("switch-off").addClass("switch-on"):i.removeClass("switch-on").addClass("switch-off"),i.data("animated")!==!1&&i.addClass("switch-animate");if(typeof n=="boolean"&&n)return;i.parent().trigger("switch-change",{el:r,value:s})}}),t.find("label").on("mousedown touchstart",function(t){var n=e(this);c=!1,t.preventDefault(),t.stopImmediatePropagation(),n.closest("div").removeClass("switch-animate"),n.closest(".has-switch").is(".deactivate")?n.unbind("click"):n.closest(".switch-on").parent().is(".radio-no-uncheck")?n.unbind("click"):(n.on("mousemove touchmove",function(t){var n=e(this).closest(".make-switch"),r=(t.pageX||t.originalEvent.targetTouches[0].pageX)-n.offset().left,i=r/n.width()*100,s=25,o=75;c=!0,i<s?i=s:i>o&&(i=o),n.find(">div").css("left",i-o+"%")}),n.on("click touchend",function(t){var n=e(this),r=e(t.target),i=r.siblings("input");t.stopImmediatePropagation(),t.preventDefault(),n.unbind("mouseleave"),c?i.prop("checked",!(parseInt(n.parent().css("left"))<-25)):i.prop("checked",!i.is(":checked")),c=!1,i.trigger("change")}),n.on("mouseleave",function(t){var n=e(this),r=n.siblings("input");t.preventDefault(),t.stopImmediatePropagation(),n.unbind("mouseleave"),n.trigger("mouseup"),r.prop("checked",!(parseInt(n.parent().css("left"))<-25)).trigger("change")}),n.on("mouseup",function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).unbind("mousemove")}))}),u.data("bootstrapSwitch")!=="injected"&&(u.bind("reset",function(){setTimeout(function(){u.find(".make-switch").each(function(){var t=e(this).find(n);t.prop("checked",t.is(":checked")).trigger("change")})},1)}),u.data("bootstrapSwitch","injected"))})},toggleActivation:function(){var t=e(this);t.toggleClass("deactivate"),t.find(n).prop("disabled",t.is(".deactivate"))},isActive:function(){return!e(this).hasClass("deactivate")},setActive:function(t){var r=e(this);t?(r.removeClass("deactivate"),r.find(n).removeAttr("disabled")):(r.addClass("deactivate"),r.find(n).attr("disabled","disabled"))},toggleState:function(t){var n=e(this).find(":checkbox");n.prop("checked",!n.is(":checked")).trigger("change",t)},toggleRadioState:function(t){var n=e(this).find(":radio");n.not(":checked").prop("checked",!n.is(":checked")).trigger("change",t)},toggleRadioStateAllowUncheck:function(t,n){var r=e(this).find(":radio");t?r.not(":checked").trigger("change",n):r.not(":checked").prop("checked",!r.is(":checked")).trigger("change",n)},setState:function(t,r){e(this).find(n).prop("checked",t).trigger("change",r)},setOnLabel:function(t){var n=e(this).find(".switch-left");n.html(t)},setOffLabel:function(t){var n=e(this).find(".switch-right");n.html(t)},setOnClass:function(t){var n=e(this).find(".switch-left"),r="";t!==undefined&&(e(this).attr("data-on")!==undefined&&(r="switch-"+e(this).attr("data-on")),n.removeClass(r),r="switch-"+t,n.addClass(r))},setOffClass:function(t){var n=e(this).find(".switch-right"),r="";t!==undefined&&(e(this).attr("data-off")!==undefined&&(r="switch-"+e(this).attr("data-off")),n.removeClass(r),r="switch-"+t,n.addClass(r))},setAnimated:function(t){var r=e(this).find(n).parent();t===undefined&&(t=!1),r.data("animated",t),r.attr("data-animated",t),r.data("animated")!==!1?r.addClass("switch-animate"):r.removeClass("switch-animate")},setSizeClass:function(t){var n=e(this),r=n.find(".switch-left"),i=n.find(".switch-right"),s=n.find("label");e.each(["switch-mini","switch-small","switch-large"],function(e,n){n!==t?(r.removeClass(n),i.removeClass(n),s.removeClass(n)):(r.addClass(n),i.addClass(n),s.addClass(n))})},status:function(){return e(this).find(n).is(":checked")},destroy:function(){var t=e(this),n=t.find("div"),r=t.closest("form"),i;return n.find(":not(input)").remove(),i=n.children(),i.unwrap().unwrap(),i.unbind("change"),r&&(r.unbind("reset"),r.removeData("bootstrapSwitch")),i}};if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return r.init.apply(this,arguments);e.error("Method "+t+" does not exist!")}}(jQuery),function(e){e(function(){e(".make-switch").bootstrapSwitch()})}(jQuery),!function(e){function t(e,t){return function(n){return a(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function i(e){o(this,e)}function s(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,r=e.weeks||e.week||e.w||0,i=e.days||e.day||e.d||0,s=e.hours||e.hour||e.h||0,o=e.minutes||e.minute||e.m||0,u=e.seconds||e.second||e.s||0,a=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=a+1e3*u+6e4*o+36e5*s,this._days=i+7*r,this._months=n+12*t,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e){return 0>e?Math.ceil(e):Math.floor(e)}function a(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function f(e,t,n,r){var i,s,o=t._milliseconds,u=t._days,a=t._months;o&&e._d.setTime(+e._d+o*n),(u||a)&&(i=e.minute(),s=e.hour()),u&&e.date(e.date()+u*n),a&&e.month(e.month()+a*n),o&&!r&&D.updateOffset(e),(u||a)&&(e.minute(i),e.hour(s))}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(n=0;r>n;n++)~~e[n]!==~~t[n]&&s++;return s+i}function h(e){return e?it[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function p(e,t){return t.abbr=e,j[e]||(j[e]=new r),j[e].set(t),j[e]}function d(e){if(!e)return D.fn._lang;if(!j[e]&&F)try{require("./lang/"+e)}catch(t){return D.fn._lang}return j[e]}function v(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function m(e){var t,n,r=e.match(R);for(t=0,n=r.length;n>t;t++)r[t]=at[r[t]]?at[r[t]]:v(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function g(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var r=5;r--&&U.test(t);)t=t.replace(U,n);return st[t]||(st[t]=m(t)),st[t](e)}function y(e,t){switch(e){case"DDDD":return X;case"YYYY":return V;case"YYYYY":return $;case"S":case"SS":case"SSS":case"DDD":return W;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return J;case"a":case"A":return d(t._l)._meridiemParse;case"X":return G;case"Z":case"ZZ":return K;case"T":return Q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return z;default:return new RegExp(e.replace("\\",""))}}function b(e){var t=(K.exec(e)||[])[0],n=(t+"").match(tt)||["-",0,0],r=+(60*n[1])+~~n[2];return"+"===n[0]?-r:r}function w(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":i[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":r=d(n._l).monthsParse(t),null!=r?i[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(i[2]=~~t);break;case"YY":i[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~t;break;case"a":case"A":n._isPm=d(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[3]=~~t;break;case"m":case"mm":i[4]=~~t;break;case"s":case"ss":i[5]=~~t;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=b(t)}null==t&&(n._isValid=!1)}function E(e){var t,n,r=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];r[3]+=~~((e._tzm||0)/60),r[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}}function S(e){var t,n,r=e._f.match(R),i=e._i;for(e._a=[],t=0;t<r.length;t++)n=(y(r[t],e).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),at[r[t]]&&w(r[t],n,e);i&&(e._il=i),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),E(e)}function x(e){var t,n,r,s,u,a=99;for(s=0;s<e._f.length;s++)t=o({},e),t._f=e._f[s],S(t),n=new i(t),u=c(t._a,n.toArray()),n._il&&(u+=n._il.length),a>u&&(a=u,r=n);o(e,r)}function T(e){var t,n=e._i,r=Y.exec(n);if(r){for(e._f="YYYY-MM-DD"+(r[2]||" "),t=0;4>t;t++)if(et[t][1].exec(n)){e._f+=et[t][0];break}K.exec(n)&&(e._f+=" Z"),S(e)}else e._d=new Date(n)}function N(t){var n=t._i,r=I.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?T(t):l(n)?(t._a=n.slice(0),E(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function C(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function k(e,t,n){var r=B(Math.abs(e)/1e3),i=B(r/60),s=B(i/60),o=B(s/24),u=B(o/365),a=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",B(o/30)]||1===u&&["y"]||["yy",u];return a[2]=t,a[3]=e>0,a[4]=n,C.apply({},a)}function L(e,t,n){var r,i=n-t,s=n-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=D(e).add("d",s),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function A(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=d().preparse(t)),D.isMoment(t)?(e=o({},t),e._d=new Date(+t._d)):n?l(n)?x(e):S(e):N(e),new i(e))}function O(e,t){D.fn[e]=D.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),D.updateOffset(this),this):this._d["get"+n+t]()}}function M(e){D.duration.fn[e]=function(){return this._data[e]}}function _(e,t){D.duration.fn["as"+e]=function(){return+this/t}}for(var D,P,H="2.1.0",B=Math.round,j={},F="undefined"!=typeof module&&module.exports,I=/^\/?Date\((\-?\d+)/i,q=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,R=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,z=/\d\d?/,W=/\d{1,3}/,X=/\d{3}/,V=/\d{1,4}/,$=/[+\-]?\d{1,6}/,J=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,K=/Z|[\+\-]\d\d:?\d\d/i,Q=/T/i,G=/[\+\-]?\d+(\.\d{1,3})?/,Y=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Z="YYYY-MM-DDTHH:mm:ssZ",et=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],tt=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),rt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},it={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},st={},ot="DDD w W M D d".split(" "),ut="M D H h m s w W".split(" "),at={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},YYYYY:function(){return a(this.year(),5)},gg:function(){return a(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return a(this.weekYear(),5)},GG:function(){return a(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return a(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return a(~~(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(~~(e/60),2)+":"+a(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ot.length;)P=ot.pop(),at[P+"o"]=n(at[P],P);for(;ut.length;)P=ut.pop(),at[P+P]=t(at[P],2);for(at.DDDD=t(at.DDD,3),r.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=D([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=D([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return L(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},D=function(e,t,n){return A({_i:e,_f:t,_l:n,_isUTC:!1})},D.utc=function(e,t,n){return A({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},D.unix=function(e){return D(1e3*e)},D.duration=function(e,t){var n,r,i=D.isDuration(e),o="number"==typeof e,u=i?e._input:o?{}:e,a=q.exec(e);return o?t?u[t]=e:u.milliseconds=e:a&&(n="-"===a[1]?-1:1,u={y:0,d:~~a[2]*n,h:~~a[3]*n,m:~~a[4]*n,s:~~a[5]*n,ms:~~a[6]*n}),r=new s(u),i&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},D.version=H,D.defaultFormat=Z,D.updateOffset=function(){},D.lang=function(e,t){return e?(t?p(e,t):j[e]||d(e),D.duration.fn._lang=D.fn._lang=d(e),void 0):D.fn._lang._abbr},D.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),d(e)},D.isMoment=function(e){return e instanceof i},D.isDuration=function(e){return e instanceof s},D.fn=i.prototype={clone:function(){return D(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ"
)},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return g(D(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!c(this._a,(this._isUTC?D.utc(this._a):D(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=g(this,e||D.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?D.duration(+t,e):D.duration(e,t),f(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?D.duration(+t,e):D.duration(e,t),f(this,n,-1),this},diff:function(e,t,n){var r,i,s=this._isUTC?D(e).zone(this._offset||0):D(e).local(),o=6e4*(this.zone()-s.zone());return t=h(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-D(this).startOf("month")-(s-D(s).startOf("month")))/r,i-=6e4*(this.zone()-D(this).startOf("month").zone()-(s.zone()-D(s).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-s,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:u(i)},from:function(e,t){return D.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(D(),e)},calendar:function(){var e=this.diff(D().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),D.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=h(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+D(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+D(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+D(e).startOf(t)},min:function(e){return e=D.apply(null,arguments),this>e?this:e},max:function(e){return e=D.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=b(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&f(this,D.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return D.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=B((D(this).startOf("day")-D(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=L(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=L(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=L(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},lang:function(t){return t===e?this._lang:(this._lang=d(t),this)}},P=0;P<nt.length;P++)O(nt[P].toLowerCase().replace(/s$/,""),nt[P]);O("year","FullYear"),D.fn.days=D.fn.day,D.fn.months=D.fn.month,D.fn.weeks=D.fn.week,D.fn.isoWeeks=D.fn.isoWeek,D.fn.toJSON=D.fn.toISOString,D.duration.fn=s.prototype={_bubble:function(){var e,t,n,r,i=this._milliseconds,s=this._days,o=this._months,a=this._data;a.milliseconds=i%1e3,e=u(i/1e3),a.seconds=e%60,t=u(e/60),a.minutes=t%60,n=u(t/60),a.hours=n%24,s+=u(n/24),a.days=s%30,o+=u(s/30),a.months=o%12,r=u(o/12),a.years=r},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=k(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=D.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=D.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=h(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=h(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:D.fn.lang};for(P in rt)rt.hasOwnProperty(P)&&(_(P,rt[P]),M(P.toLowerCase()));_("Weeks",6048e5),D.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},D.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),F&&(module.exports=D),"undefined"==typeof ender&&(this.moment=D),"function"==typeof define&&define.amd&&define("moment",[],function(){return D})}.call(this),!function(e){if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else Q=e()}(function(){"use strict";function e(e){var t=Function.call;return function(){return t.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===yt(e)||e instanceof ut}function r(e,t){if(it&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(wt)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var s=n.join("\n"+wt+"\n");e.stack=i(s)}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];u(i)||s(i)||!i||n.push(i)}return n.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function o(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function u(e){var t=o(e);if(!t)return!1;var n=t[0],r=t[1];return n===ot&&r>=at&&Ct>=r}function a(){if(it)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=o(n);if(!r)return;return ot=r[0],r[1]}}function f(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",(new Error("")).stack),e.apply(e,arguments)}}function l(e){return k(e)}function c(){function e(e){t=e,s.source=e,ht(n,function(t,n){lt(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=vt(c.prototype),s=vt(p.prototype);if(s.promiseDispatch=function(e,i,s){var o=ct(arguments);n?(n.push(o),"when"===i&&s[1]&&r.push(s[1])):lt(function(){t.promiseDispatch.apply(t,o)})},s.valueOf=f(function(){if(n)return s;var e=d(t);return v(e)&&(t=e),e},"valueOf","inspect"),s.inspect=function(){return t?t.inspect():{state:"pending"}},l.longStackSupport&&it)try{throw new Error}catch(o){s.stack=o.stack.substring(o.stack.indexOf("\n")+1)}return i.promise=s,i.resolve=function(n){t||e(k(n))},i.fulfill=function(n){t||e(C(n))},i.reject=function(n){t||e(N(n))},i.notify=function(e){t||ht(r,function(t,n){lt(function(){n(e)})},void 0)},i}function h(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=c();return q(e,t.resolve,t.reject,t.notify).fail(t.reject),t.promise}function p(e,t,n){void 0===t&&(t=function(e){return N(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=vt(p.prototype);if(r.promiseDispatch=function(n,i,s){var o;try{o=e[i]?e[i].apply(r,s):t.call(r,i,s)}catch(u){o=N(u)}n&&n(o)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=f(function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value})}return r}function d(e){if(v(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function v(e){return t(e)&&"function"==typeof e.promiseDispatch&&"function"==typeof e.inspect}function m(e){return t(e)&&"function"==typeof e.then}function g(e){return v(e)&&"pending"===e.inspect().state}function y(e){return!v(e)||"fulfilled"===e.inspect().state}function b(e){return v(e)&&"rejected"===e.inspect().state}function w(){xt||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",Et),xt=!0}function E(){for(var e=0;e<Et.length;e++){var t=Et[e];t&&"undefined"!=typeof t.stack?console.warn("Unhandled rejection reason:",t.stack):console.warn("Unhandled rejection reason (no stack):",t)}}function S(){Et.length=0,St.length=0,xt=!1,Tt||(Tt=!0,"undefined"!=typeof process&&process.on&&process.on("exit",E))}function x(e,t){Tt&&(St.push(e),Et.push(t),w())}function T(e){if(Tt){var t=pt(St,e);-1!==t&&(St.splice(t,1),Et.splice(t,1))}}function N(e){var t=p({when:function(t){return t&&T(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return x(t,e),t}function C(e){return p({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return gt(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function k(e){return v(e)?e:m(e)?L(e):C(e)}function L(e){var t=c();return lt(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function A(e){return p({isDef:function(){}},function(t,n){return B(e,t,n)},function(){return k(e).inspect()})}function O(e,t,n,r){return l(e).then(t,n,r)}function M(e,t,n){return O(e,function(e){return U(e).then(function(e){return t.apply(void 0,e)},n)},n)}function _(e){return function(){function t(e,t){var o;if(bt){try{o=r[e](t)}catch(u){return N(u)}return o.done?o.value:O(o.value,i,s)}try{o=r[e](t)}catch(u){return n(u)?u.value:N(u)}return O(o,i,s)}var r=e.apply(this,arguments),i=t.bind(t,"send"),s=t.bind(t,"throw");return i()}}function D(e){l.done(l.async(e)())}function P(e){throw new ut(e)}function H(e){return function(){return M([this,U(arguments)],function(t,n){return e.apply(t,n)})}}function B(e,t,n){var r=c();return lt(function(){k(e).promiseDispatch(r.resolve,t,n)}),r.promise}function j(e){return function(t){var n=ct(arguments,1);return B(t,e,n)}}function F(e,t){var n=ct(arguments,2);return Nt(e,t,n)}function I(e,t){return B(e,"apply",[void 0,t])}function q(e){var t=ct(arguments,1);return I(e,t)}function R(e){var t=ct(arguments,1);return function(){var n=t.concat(ct(arguments));return B(e,"apply",[this,n])}}function U(e){return O(e,function(e){var t=0,n=c();return ht(e,function(r,i,s){var o;v(i)&&"fulfilled"===(o=i.inspect()).state?e[s]=o.value:(++t,O(i,function(r){e[s]=r,0===--t&&n.resolve(e)},n.reject))},void 0),0===t&&n.resolve(e),n.promise})}function z(e){return O(e,function(e){return e=dt(e,k),O(U(dt(e,function(e){return O(e,ft,ft)})),function(){return e})})}function W(e){return O(e,function(e){return U(dt(e,function(t,n){return O(t,function(t){return e[n]={state:"fulfilled",value:t},e[n]},function(t){return e[n]={state:"rejected",reason:t},e[n]})})).thenResolve(e)})}function X(e,t){return O(e,void 0,t)}function V(e,t){return O(e,void 0,void 0,t)}function $(e,t){return O(e,function(e){return O(t(),function(){return e})},function(e){return O(t(),function(){return N(e)})})}function J(e,t,n,i){var s=function(t){lt(function(){if(r(t,e),!l.onerror)throw t;l.onerror(t)})},o=t||n||i?O(e,t,n,i):e;"object"==typeof process&&process&&process.domain&&(s=process.domain.bind(s)),X(o,s)}function K(e,t,n){var r=c(),i=setTimeout(function(){r.reject(new Error(n||"Timed out after "+t+" ms"))},t);return O(e,function(e){clearTimeout(i),r.resolve(e)},function(e){clearTimeout(i),r.reject(e)},r.notify),r.promise}function Q(e,t){void 0===t&&(t=e,e=void 0);var n=c();return O(e,void 0,void 0,n.notify),setTimeout(function(){n.resolve(e)},t),n.promise}function G(e,t){var n=ct(t),r=c();return n.push(r.makeNodeResolver()),I(e,n).fail(r.reject),r.promise}function Y(e){var t=ct(arguments,1),n=c();return t.push(n.makeNodeResolver()),I(e,t).fail(n.reject),n.promise}function Z(e){var t=ct(arguments,1);return function(){var n=t.concat(ct(arguments)),r=c();return n.push(r.makeNodeResolver()),I(e,n).fail(r.reject),r.promise}}function et(e,t){var n=ct(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat(ct(arguments)),s=c();return i.push(s.makeNodeResolver()),I(r,i).fail(s.reject),s.promise}}function tt(e,t,n){var r=ct(n||[]),i=c();return r.push(i.makeNodeResolver()),Nt(e,t,r).fail(i.reject),i.promise}function nt(e,t){var n=ct(arguments,2),r=c();return n.push(r.makeNodeResolver()),Nt(e,t,n).fail(r.reject),r.promise}function rt(e,t){return t?(e.then(function(e){lt(function(){t(null,e)})},function(e){lt(function(){t(e)})}),void 0):e}var it=!1;try{throw new Error}catch(st){it=!!st.stack}var ot,ut,at=a(),ft=function(){},lt=function(){function e(){for(;t.next;){t=t.next;var n=t.task;t.task=void 0;var i=t.domain;i&&(t.domain=void 0,i.enter());try{n()}catch(o){if(s)throw i&&i.exit(),setTimeout(e,0),i&&i.enter(),o;setTimeout(function(){throw o},0)}i&&i.exit()}r=!1}var t={task:void 0,next:null},n=t,r=!1,i=void 0,s=!1;if(lt=function(e){n=n.next={task:e,domain:s&&process.domain,next:null},r||(r=!0,i())},"undefined"!=typeof process&&process.nextTick)s=!0,i=function(){process.nextTick(e)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var o=new MessageChannel;o.port1.onmessage=e,i=function(){o.port2.postMessage(0)}}else i=function(){setTimeout(e,0)};return lt}(),ct=e(Array.prototype.slice),ht=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(t=e(t,this[n],n));return t}),pt=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),dt=e(Array.prototype.map||function(e,t){var n=this,r=[];return ht(n,function(i,s,o){r.push(e.call(t,s,o,n))},void 0),r}),vt=Object.create||function(e){function t(){}return t.prototype=e,new t},mt=e(Object.prototype.hasOwnProperty),gt=Object.keys||function(e){var t=[];for(var n in e)mt(e,n)&&t.push(n);return t},yt=e(Object.prototype.toString);ut="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var bt;try{new Function("(function* (){ yield 1; })"),bt=!0}catch(st){bt=!1}var wt="From previous event:";l.nextTick=lt,l.longStackSupport=!1,l.defer=c,c.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(ct(arguments,1)):e.resolve(n)}},l.promise=h,l.makePromise=p,p.prototype.then=function(e,t,n){function i(t){try{return"function"==typeof e?e(t):t}catch(n){return N(n)}}function s(e){if("function"==typeof t){r(e,u);try{return t(e)}catch(n){return N(n)}}return N(e)}function o(e){return"function"==typeof n?n(e):e}var u=this,a=c(),f=!1;return lt(function(){u.promiseDispatch(function(e){f||(f=!0,a.resolve(i(e)))},"when",[function(e){f||(f=!0,a.resolve(s(e)))}])}),u.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=o(e)}catch(r){if(n=!0,!l.onerror)throw r;l.onerror(r)}n||a.notify(t)}]),a.promise},p.prototype.thenResolve=function(e){return O(this,function(){return e})},p.prototype.thenReject=function(e){return O(this,function(){throw e})},ht(["isFulfilled","isRejected","isPending","dispatch","when","spread","get","set","del","delete","post","send","mapply","invoke","mcall","keys","fapply","fcall","fbind","all","allResolved","timeout","delay","catch","finally","fail","fin","progress","done","nfcall","nfapply","nfbind","denodeify","nbind","npost","nsend","nmapply","ninvoke","nmcall","nodeify"],function(e,t){p.prototype[t]=function(){return l[t].apply(l,[this].concat(ct(arguments)))}},void 0),p.prototype.toSource=function(){return this.toString()},p.prototype.toString=function(){return"[object Promise]"},l.nearer=d,l.isPromise=v,l.isPromiseAlike=m,l.isPending=g,l.isFulfilled=y,l.isRejected=b;var Et=[],St=[],xt=!1,Tt=!0;l.resetUnhandledRejections=S,l.getUnhandledReasons=function(){return Et.slice()},l.stopUnhandledRejectionTracking=function(){S(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",E),Tt=!1},S(),l.reject=N,l.fulfill=C,l.resolve=k,l.master=A,l.when=O,l.spread=M,l.async=_,l.spawn=D,l["return"]=P,l.promised=H,l.dispatch=B,l.dispatcher=j,l.get=j("get"),l.set=j("set"),l["delete"]=l.del=j("delete");var Nt=l.post=j("post");l.mapply=Nt,l.send=F,l.invoke=F,l.mcall=F,l.fapply=I,l["try"]=q,l.fcall=q,l.fbind=R,l.keys=j("keys"),l.all=U,l.allResolved=f(z,"allResolved","allSettled"),l.allSettled=W,l["catch"]=l.fail=X,l.progress=V,l["finally"]=l.fin=$,l.done=J,l.timeout=K,l.delay=Q,l.nfapply=G,l.nfcall=Y,l.nfbind=Z,l.denodeify=l.nfbind,l.nbind=et,l.npost=tt,l.nmapply=tt,l.nsend=nt,l.ninvoke=l.nsend,l.nmcall=l.nsend,l.nodeify=rt;var Ct=a();return l});